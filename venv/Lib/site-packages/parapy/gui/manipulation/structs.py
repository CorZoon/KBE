#!/usr/bin/env python
# -*- coding: utf-8 -*-
#
# Copyright (C) 2016-2021 ParaPy Holding B.V.
#
# This file is subject to the terms and conditions defined in
# the license agreement that you have received with this source code
#
# THIS CODE AND INFORMATION ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY
# KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
# IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR
# PURPOSE.


import typing
from dataclasses import dataclass
from numbers import Number

from parapy.geom import Point, Position, Vector
from parapy.gui.viewer import Viewer


@dataclass
class StateTransitionSpec:
    """Information package for a TransformationState. Used to specify the
    behaviour of the TS.
    Each ManipulationMode needs a StateTransitionDef to inform the
    TransformationState.
    """

    # a callable that returns a point in world coordinates given x and y of a
    # click (on viewer/screen)
    projector: typing.Callable[[Viewer, int, int, Position, typing.Any],
                               Point]
    # a callable that updates the TransformationState
    transformator: typing.Callable[[Position, Point, Point],
                                   Position]
    # rounding base for the manipulation distance
    increment: Number = 0


